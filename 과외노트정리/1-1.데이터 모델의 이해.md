# 01.데이터 모델의 이해

### 모델링(Modeling)
* 정의
  * **현실 세계를 단순화하여 표현하는 기법**
  *  데이터베이스를 구축하기 위한 분석 및 설계의 과정<br><br>
*  데이터 모델링 특징
    * 추상화
      * 현실을 일정한 형식에 맞춰 간략하게 표현
    * 단순화
      * 복잡한 현실 세계를 일정한 형식으로 표현
      * 아이디어나 개념을 간략하게 표현
    * 명확성
      * 애매모호함을 배제하고 명확하게 한 가지 의미를 갖도록 표현
     <br>
    
> 데이터베이스의 모델링은 '현실세계를 추상화,단순화,명확화하기 위해 일정한 표기법에 의해 표현하는 기법'

* 모델링 관점 3가지
  * 데이터 관점 
    * what,data
    * 업무가 어떤 데이터와 관련이 있는지, 데이터 위주의 모델링
    
  * 프로세스 관점 
    * how,process
    * 업무가 실제로 처리하고 있는 일은 무엇인지/무엇을 해야하는지 모델링
    
  * 데이터와 프로세스의 상관 관점 
    * data vs process,interaction
    * 업무가 처리하는 일의 방법에 따라 데이터는 어떤 영향을 받고 있는 지 모델링

<br>

* 데이터 모델링 단계
    * 개념적 모델링(Conceptual Data Modeling)
      * 전사적 데이터 모델링 수행시 행해지며 추상화 레벨이 가장 높다.
      * 업무 중심적인 포괄적인 수준의 모델링
      * 엔티티와 속성을 도출하며 개념적 ERD를 작성하는 단계
    * 논리적 모델링(Logical Data Modeling)
      * Key,속성,관계 등을 정확히 표현하는 단계
      * 정규화를 통해 **재사용성**을 높인다.   
    * 물리적 모델링(Physical Data Modeling)
      * 실제 데이터베이스에 적용할 수 있도록 성능,저장 등 물리적인 설계 단계
<br>

* 스키마 구조 3단계
  * 외부 스키마(External Level)
    * 사용자 관점, 응용 프로그래머가 데이터베이스에 접근하는 View를 표현 
  * 개념 스키마(Conceptual Level)
    * 설계자 관점,모든 통합 관점을 가지고 있으며 DB 규칙과 구조를 표현 
  * 내부 스키마(Internal Level)
    * 개발자 관점,물리적 저장장치 입장에서 본 데이터베이스 구조이며 레코드 구조, 인덱스 등을 표현 

<img width="650" alt="image" src="https://user-images.githubusercontent.com/62399318/216702392-aa016edc-8ec9-481c-ba92-44dd0dbc75c4.png">

* 스키마 구조가 보장하는 독립성
  * 논리적 독립성 : 개념 스키마가 변경되어도 외부 스키마는 영향받지 않는다.
  * 물리적 독립성 : 내부 스키마가 변경되어도 외부/개념 스키마는 영향받지 않는다. 


<img width="523" alt="image" src="https://user-images.githubusercontent.com/62399318/216702753-29c6d2ee-83dc-483d-9a06-6c39345f7867.png">

> 어플리케이션에 영향을 주지않고 데이터베이스의 구조를 변경할 수 있어야 독립성이 보장된다.


* ERD(Entity Relationship Diagram)
  * 데이터 모델의 표기법 
* ERD의 순서 
  * 엔티티 도출(그린다)
  * 엔티티 배치
  * 엔티티간 관계 설정
  * 관계명을 기술
  * 관계의 참여도를 기술
  * 관계의 필수여부를 기술
  
  <br>
  어떤 표기법을 사용하든 ERD를 작성하는 순서는 공통된 룰이다.
  
  ### 엔티티(Entity)
  * 정의
    * 업무에서 관리해야 하는 데이터 집합
    * 개념,사건,장소 등의 명사
    * entity : 독립체 
 
 > 엔터티 : 테이블 / 인스턴스 : Row / 속성 : Column


* 특징
  * 식별자
    * 유일한 식별자가 있어야 한다. ex.주민등록번호,회원 아이디
    * 엔터티에 속한 인스턴스가 중복되면 설계 실수이다.
       
      
<img width="400" alt="image" src="https://user-images.githubusercontent.com/62399318/216705411-917fcc12-8592-45cd-b2c4-011bffa39ac8.png">
 
 가로(row)가 인스턴스이고  각각의 세로 주제인 상품코드,상품명,카테고리가 속성이다.
 
  * 인스턴스 집합
    * 2개 이상의 인스턴스가 있어야 한다. 
  * 속성
    * 반드시 속성을 가지고 있어야한다.
  * 관계
    * 다른 엔티티와 최소 한 개 이상의 관계를 가져야 한다.
    * ex.고객은 계좌를 개설한다.  
 
* 엔터티 분류
  * 유형과 무형에 따른 분류
    * 유형 엔터티
      * 업무에서 도출되는 지속적으로 사용되는 물리적 형태의 엔티티
      * ex.고객,강사,사원  
    * 개념 엔터티
      * 오로지 개념적으로만 사용되는 엔터티
      * ex.거래소 종목, 부서 , 학과
    * 사건 엔터티
      * 업무를 수행함에 따라 생성되는 업무 관련 행위 형태의 엔티티, 각종 통계에 이용 가능
      * ex.주문,청구

  * 발생 시점에 따른 분류
    * 기본 엔터티
      * 독립적으로 생성됨,자식 엔터티를 가질 수 있음
      * ex.상품,회원
    * 중심 엔터티  
      * 메인 엔터티
      * 기본 엔터티로부터 발생되며 업무에서 중심 역할을 수행해 행위 엔터티를 생성
      * ex.주문
    * 행위 엔터티
      * 2개 이상의 엔터티로부터 파생
      * ex.주문 내역,이벤트 응모 이력,결제목록  
   * 엔터티 이름을 정할 때 주의할 점
     * 업무에서 실제로 쓰이는 용어 사용
     * 한글은 약어를 사용하지 않고, 영문은 대문자로 표기
     * 단수 명사로 표기하고 띄어쓰기는 하지 않음
     * 다른 엔터티와 의미상으로 중복될 수 없음(주문,결제 엔터티는 중복될 수 있음)
     * 해당 엔터티가 갖고 있는 데이터가 무엇인지 명확하게 표현
      
### 속성
* 정의
  * 엔터티가 가지는 항목이며 더 이상 분리되지 않는 최소의 데이터 단위
  * 엔터티는 속성들에 의해 설명되어 진다.
* 속성의 분류
  * 엔터티 구성에 따른 분류
    * PK(Primary Key) 속성 : 엔터티를 식별할 수 있는 속성
    * FK(Foreign Key) 속성 : 다른 엔티티와의 관계에서 포함된 속성
    * 일반 속성 : PK속성, FK 속성에 포함되지 않은 속성
  * 분해 여부에 따른 분류
    * 복합 속성
      * 여러 개의 의미를 지닌 속성
      * ex.주소는 시,구,동 등 세부 속성들로 구성
    * 단일 속성
      * 오로지 하나의 의미를 지닌 속성이며 하나의 속성은 한 개의 값만을 가질 수 있다.
      * ex. 나이, 성별 등
    * 다중값 속성
      * 하나의 속성에 여러 개의 값을 가지는 경우
      * 정규화를 거쳐 별도의 엔터티를 생성해 관계로 연결해야 함.
      * ex.한사람이 두 개의 계좌를 가질 수 있음. 이는 고객과 계좌로 엔터티를 분리해야함.
      
    * 특성에 따른 분류
      * 기본 속성
        * 업무로부터 추출한 모든 속성이며 엔터티의 속성 비율 중 가장 많은 비율을 차지한다.
      * 설계 속성
        * 업무상 필요하진 않지만 데이터 모델링을 위해 생성하거나 변형하여 정의하는 속성
        * 이는 일련번호와 같은 유일 값을 가진다.
        * ex.상품코드
      * 파생 속성
        * 다른 속성의 영향을 받아 발생하는 속성이며 주로 집계 등의 속성이 이에 해당
        * ex. 평균, 합계

### 관계
* 정의
  * 엔터티 간의 관련성을 의미
* 관계의 유의점
  * 두개의 엔터티 사이에 연관 규칙이 존재하는가?
  * 업무 기술서, 장표에 관계 연결을 가능하게 하는 동사가 있는가?
  * 업무 기술서, 장표에 관계 연결 규칙이 서술되어 있는가?
  * 두 개의 엔터티 사이에서 정보의 조합이 발생하는 가?
* 관계의 분류
  * 존재에 의한 관계
    * 두개의 엔터티가 존재 여부에 대한 관계가 이루어진 상태
    * ex. 부서와 사원은 소속이라는 존재 관계를 이룸
  * 행위에 의한 관계
    * 두개의 엔터티가 어떤 행위의 관련성에 대한 관계가 이루어진 상태
    * ex. 고객과 상점은 구매라는 행위 관계를 이룸
  * 관계의 표기법
    * 일대일 관계
      * A 엔터티와 B 엔터티는 서로가 속성 하나씩만 가지는 관계
    * 일대다 관계
      * 하나의 A 엔터티는 B 엔터티의 속성 하나를 가질 수 있고 B 엔터티는 A 엔터티의 여러 속성을 가지는 관계
      * ex.하나의 학생은 하나의 학과만을 가지지만, 하나의 학과는 여러 학생을 가질 수 있다.
      
    * 다대다 관계
      * A 엔터티는 B 엔티티의 여러 속성을, B 엔터티는 A 엔터티의 여러 속성을 가질 수 있는 관계
      * ex.하나의 학생은 여러 은행의 통장을 가질 수 있고, 하나의 은행은 여러 고객을 가질 수 있다.
      
      
### 식별자

* 정의
  * 하나의 엔터티에 구성되어 있는 여러 속성 중에 엔터티를 대표할 수 있는 속성
  * 하나의 엔터티는 하나의 유일한 식별자가 존재해야 함
  * 업무적으로 구분이 되는 정보이며 논리 데이터 모델링 단계에서 사용된다.
  * 키는 데이터베이스 테이블에 접근을 위한 매개체로 물리 데이터 모델링 단계에서 사용된다.
  
* 키 분류
  * 후보키 : 유일성과 최소성을 만족하는 키
  * 슈퍼키 : 유일성은 만족하지만 최소성을 만족하지 못하는 키
  * 대체키 : 후보키 중 기본키를 제외하고 남은 나머지 키
  * 외래키 : 다른 테이블의 기본 키 필드를 가리키며 참조 무결성이 특징인 키
  
* 식별자 특징
  * 유일성 : 식별자에 의해 엔터티 내에 모든 인스턴스들은 유일하게 구분되어야 함
  * 최소성 : 식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 함
  * 불변성 : 식별자가 한 번 지정되면 그 식별자의 값은 변하지 않아야 함
  * 존재성 : 식별자가 지정되면 반드시 식별자의 값이 존재해야 함
  
* 식별자 분류
  * 대표성 여부에 따른 분류
    * 주식별자
      * 유일성과 최소성을 만족하면서 엔터티를 대표하는 식별자이며 타 엔터티와 참조관계 연결 가능
    * 보조 식별자
      * 유일성과 최소성을 만족하지만 엔티티를 대표하지 못해 타 엔티티와 참조관계 연결 불가능

  * 스스로 생성여부에 따른 분류
    * 내부 식별자
      * 엔티티 내부에서 스스로 만들어지는 식별자
    * 외부 식별자
      * 타 엔티티와의 관계를 통해 타 엔티티로부터 받아오는 식별자
  * 속성의 수에 따른 분류
    * 단일 식별자
      * 하나의 속성으로 구성된 식별자
    * 복합 식별자
      * 둘 이상의 속성으로 구성된 식별자
  * 대체 여부에 따른 분류
    * 본질 식별자
      * 업무에 의해 자연스레 만들어지는 식별자
    * 인조 식별자
      * 업무에 의해 자연스레 만들어지지는 않지만 원조 식별자가 복잡한 구성을 가지고 있어 인위적으로 만든 식별자
        
      
      
      








